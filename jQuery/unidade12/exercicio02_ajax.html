<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Curso jQuery Essencial</title>
        
        <style>
        	div { display:block; margin:20px }
			label { display:block; margin:20px }
        </style>
        
		
        <script src="js/jquery.js"></script>
        <script>
			$(function  () {
                $("#inserirComentario").submit(function(e){
                    e.preventDefault();
                    var formulario = $(this);
                    var retorno = enviarFormulariio(formulario);
                    $("#janela").html(retorno);
                });

                function enviarFormulariio(dados){
                    meuRetorno = "";
                    $.ajax({
                        type: dados.attr("method"),
                        data: dados.serialize(),
                        url: dados.attr("action"),
                        async: false
                    }).always(function(mensagem) {
                        meuRetorno = mensagem;
                    });
                    return meuRetorno;
                }
            });
		</script>

    </head>

    <body>
    	<div id="janela"></div>
        <div id="resposta">
        	<form action="inserir_comentario.php" method="post" id="inserirComentario">

        		<label>Nome<br>
        			<input type="text" name="nome">
                </label>  
              
                <label>Comentario<br>
                	<input type="text" name="comentario">
                </label>
                
                <input type="submit" value="enviar" id="enviar">
                
        	</form>
        </div>
    </body>
</html>
